"""
I've made a new branch here so I can focus on testing snakemake without worrying about changes made to the master files
"""
configfile: "config.yaml"

# This will get file names
BASECALL_SAMPLE_NAMES, = glob_wildcards("/Users/joshl/PycharmProjects/ARS/Results/DataFiles/fast5/{fast5_files}.fast5")

rule all:
    input:
        # basecall
        expand (config['results_folder'] + "Basecall/{sample}", sample=BASECALL_SAMPLE_NAMES )

rule basecall:
    input:
        config['results_folder'] + "DataFiles/fast5/{sample}.fast5"
    output:
        directory (config['results_folder'] + "Basecall/{sample}" )
    params:
        temp_input_directory = temp (directory(config['results_folder'] + "Basecall/.temp/{sample}/") ),
        run_file = config['parent_folder'] + "snakemake/scripts/test.py"
    conda:
        "envs/pythonEnv.yaml"
    shell:
        "python {params.run_file}"

